<!DOCTYPE html>
<html lang="en">
	<head>
		<meta charset="UTF-8" />
		<meta name="viewport" content="width=device-width, initial-scale=1.0" />
		<title>VolleyGroups</title>
	</head>
	<body>
		<div id="app">
			<div id="appbar">
				<p id="title">VolleyGroups</p>
				<button id="closecircle"></button>
				<button id="minimizecircle"></button>
			</div>
			<button id="startgamebtn">New Game</button>
			<p class="title-text">VolleyGroups made by <span class="namecolor">Niklas Baerlocher</span></p>
		</div>
	</body>
</html>
<script>
	document.addEventListener("DOMContentLoaded", async () => {
		window.addEventListener(
			"wheel",
			(event) => {
				if (event.deltaX < 0) {
					event.preventDefault();
				}
			},
			{ passive: false }
		);

		window.addEventListener(
			"touchstart",
			(event) => {
				if (event.touches.length > 1) {
					event.preventDefault();
				}
			},
			{ passive: false }
		);

		const { invoke } = window.__TAURI__;
		const app = document.getElementById("app");
		const appbar = document.getElementById("appbar");
		const title = document.getElementById("title");
		const closecircle = document.getElementById("closecircle");
		const minimizecircle = document.getElementById("minimizecircle");
		const startgamebtn = document.getElementById("startgamebtn");

		appbar.addEventListener("mousedown", async (e) => {
			if (e.target != appbar && e.target != title) return;
			invoke("drag_window");
		});

		closecircle.addEventListener("click", async () => {
			invoke("close_window");
		});

		minimizecircle.addEventListener("click", async () => {
			invoke("minimize_window");
		});

		startgamebtn.addEventListener("click", () => {
			window.location.href = "/page.html";
		});
	});
</script>
<style>
	* {
		user-select: none;
		margin: 0;
		padding: 0;
		box-sizing: inherit;
		@font-face {
			font-family: "Roboto";
			src: url("assets:///assets/Roboto-Bold.ttf") format("truetype");
		}
		font-family: "Roboto";
	}
	:root {
		/* Light theme variables */
		--light-bg: #ffffff;
		--light-text: #1a1a1a;
		--light-accent: #4dabf7;
		--light-surface: #f5f5f5;
		--light-border: #e0e0e0;
		--light-appbar: #f0f0f0;

		/* Dark theme variables */
		--dark-bg: #1a1a1a;
		--dark-text: #ffffff;
		--dark-accent: #4dabf7;
		--dark-surface: #2d2d2d;
		--dark-border: #404040;
		--dark-appbar: #161616;

		/* Default theme (light) */
		--bg-color: var(--light-bg);
		--text-color: var(--light-text);
		--accent-color: var(--light-accent);
		--surface-color: var(--light-surface);
		--border-color: var(--light-border);
		--appbar-color: var(--light-appbar);
		--width: 700px;
		--height: 400px;
	}

	@media (prefers-color-scheme: dark) {
		:root {
			--bg-color: var(--dark-bg);
			--text-color: var(--dark-text);
			--accent-color: var(--dark-accent);
			--surface-color: var(--dark-surface);
			--border-color: var(--dark-border);
			--appbar-color: var(--dark-appbar);
		}
	}

	/* Dark theme class for manual toggle */
	.dark-theme {
		--bg-color: var(--dark-bg);
		--text-color: var(--dark-text);
		--accent-color: var(--dark-accent);
		--surface-color: var(--dark-surface);
		--border-color: var(--dark-border);
		--appbar-color: var(--dark-appbar);
	}
	.light-theme {
		--bg-color: var(--light-bg);
		--text-color: var(--light-text);
		--accent-color: var(--light-accent);
		--surface-color: var(--light-surface);
		--border-color: var(--light-border);
		--appbar-color: var(--light-appbar);
	}
	html,
	body {
		background: transparent;
		width: var(--width);
		height: var(--height);
		box-sizing: border-box;
		overflow: hidden;
		margin: 0;
		padding: 0;
		color: var(--text-color);
	}
	#app {
		width: var(--width);
		height: var(--height);
		background: var(--bg-color);
		border-radius: 15px;
	}
	#appbar {
		width: var(--width);
		height: 30px;
		background: var(--appbar-color);
		border-radius: 15px 15px 0 0;
	}
	#closecircle {
		width: 12px;
		height: 12px;
		position: fixed;
		top: 9px;
		left: 12px;
		border-radius: 50%;
		background: #ff5f57;
		border: none;
		cursor: pointer;
		box-shadow: inset 0 0 0 1px rgba(0, 0, 0, 0.15);
	}
	#closecircle:hover {
		filter: brightness(0.9);
	}
	#closecircle:active {
		filter: brightness(0.8);
	}
	#minimizecircle {
		width: 12px;
		height: 12px;
		position: fixed;
		top: 9px;
		left: 32px;
		border-radius: 50%;
		background: #ffbd2e;
		border: none;
		cursor: pointer;
		box-shadow: inset 0 0 0 1px rgba(0, 0, 0, 0.15);
	}
	#minimizecircle:hover {
		filter: brightness(0.9);
	}
	#minimizecircle:active {
		filter: brightness(0.8);
	}
	#title {
		position: fixed;
		top: 7px;
		left: 50%;
		transform: translateX(-50%);
		font-size: 14px;
		font-weight: 600;
	}
	#startgamebtn {
		width: 200px;
		height: 40px;
		position: fixed;
		top: 50%;
		left: 50%;
		transform: translate(-50%, -50%);
		background: var(--accent-color);
		border: none;
		border-radius: 7px;
		color: var(--text-color);
		cursor: pointer;
		font-size: 14pt;
	}
	.title-text {
		position: fixed;
		bottom: 10px;
		left: 50%;
		transform: translateX(-50%);
		font-size: 12px;
	}
	.namecolor {
		color: var(--accent-color);
	}
</style>
